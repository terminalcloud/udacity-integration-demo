window.Chegg_Header_Define=function(e,t,i,s,n){!function(e){function t(e){var t=new Image;return t.src=e,t}function i(){return console.warn("naturalWidth: no image have been passed"),0}return"naturalWidth"in new Image?(e.fn.naturalWidth=function(){return this.length?this[0].naturalWidth:i()},void(e.fn.naturalHeight=function(){return this.length?this[0].naturalHeight:i()})):(e.fn.naturalWidth=function(){return this.length?t(this[0].src).width:i()},void(e.fn.naturalHeight=function(){return this.length?t(this[0].src).height:i()}))}(cheggJQuery),function(e,t){return e=e||global,e.EVENTS_NO_REQUIRE?void(e.Events=t()):void("object"==typeof exports?module.exports.Events=t():"function"==typeof define&&define.amd?define(function(){return{Events:t()}}):e.Events=t())}(this,function(){function e(e,t){return e.indexOf?e.indexOf(t):String.prototype.indexOf(e,t)}function t(e){if(f.strict)throw new Error(e);"console"in window&&(console.error?console.error(e):console.warn?console.warn(e):console.log(e))}function i(e){return e.replace(/^on([A-Z])/,function(e,t){return t.toLowerCase()})}function s(e){var i=e.match(p);return e.split(":").length>2&&t("Library does not support multiple pseudo events"),{name:i[1],pseudo:i[2],args:i[3]}}function n(e){return s(i(e))}function a(e,t,i,s){var n;return m?(n=document.createEvent("UIEvents"),n.initUIEvent(e,s,!0,window,1)):n={},n.dispatcher=t,n.args=i,n.object_event=!0,n}function r(t,i,s){m?t.$event_element.addEventListener(i,s,!1):t.$events[i]?-1==e(t.$events[i],s)&&t.$events[i].push(s):t.$events[i]=[s]}function o(e,t,i){var s,n;if(m)e.$event_element.dispatchEvent(i);else{if(!e.$events[t])return;for(s=0;n=e.$events[t][s];s++)n.apply(null,[i])}}function h(t,i,s){var n;if(m)t.$event_element.removeEventListener(i,s,!1);else{if(!t.$events[i])return;if(n=e(t.$events[i],s),0>n)return;t.$events[i].splice(n,1)}}var l,c,d,g,u,f,v,m=!1,p=/([^:]+)(?:\:([^(]*)(?:\((.*)\))?)?/;try{m=document&&"addEventListener"in document}catch(b){}return f=function C(e,t){var i,s=this,n="$event_element $latched $events $once addEvent addEvents fireEvent removeEvent addEventOnce fireLatchedEvent".split(" ");m?this.$event_element=e||document.createElement("events"):this.$events={},this.$has_events=!0,this.$latched={},this.$once={},this.addEvent=l,this.addEvents=c,this.fireEvent=d,this.removeEvent=g,this.addEventOnce=u,this.fireLatchedEvent=v;for(i in C.aliases)this[i]=this[C.aliases[i]],n.push(i);t||this.addEvent("destroy:delay(0)",function(){var e,t;if(!s.$no_ev_destroy){for(e=0;t=n[e];e++)s[t]=null;s.$events_destroyed=!0}})},f.removeOn=i,f.getPseudos=s,f.processType=n,f.createEvent=a,f.strict=!1,f.aliases={on:"addEvent",addListener:"addEvent",once:"addEventOnce",removeListener:"removeEvent",off:"removeEvent",emit:"fireEvent"},f.Pseudoes={once:{addEvent:function(e,t){return this.addEventOnce(e,t)}},latched:{fireEvent:function(e,t){return this.fireLatchedEvent(e,t)}},times:{addEvent:function(e,t,i){var s=0,n=this;this.addEvent(e,function a(){t.apply(null,arguments),s+=1,s==i&&n.removeEvent(e,a)})}},delay:{addEvent:function(e,t,i){this.addEvent(e,function(){setTimeout(t,i)})},fireEvent:function(e,t,i){var s=this;setTimeout(function(){s.fireEvent(e,t)},i)}}},l=function(e,t){if(this.$events_destroyed)return this;var i,s=n(e),o=f.Pseudoes[s.pseudo]&&f.Pseudoes[s.pseudo].addEvent,h=this.$latched[s.name]&&this.$latched[s.name].args;return o?o.apply(this,[s.name,t,s.args]):(r(this,s.name,t),this.$latched&&this.$latched[s.name]&&(i=a(s.name,this,h),t.apply(null,[i])),this)},c=function(e){if(this.$events_destroyed)return this;var t;for(t in e)e.hasOwnProperty(t)&&this.addEvent(t,e[t]);return this},d=function(e,t,i){if(this.$events_destroyed)return this;var s,r,h,l=n(e),c=f.Pseudoes[l.pseudo]&&f.Pseudoes[l.pseudo].fireEvent;if(null==i&&(i=!0),c)return c.call(this,l.name,t);if(h=this.$once[l.name],this.$once[l.name]=null,s=a(l.name,this,t,i),o(this,l.name,s),!h)return this;for(;r=h.pop();)this.removeEvent(l.name,r,!0);return this},g=function(t,i,s){if(this.$events_destroyed)return this;var a,r=n(t);return h(this,r.name,i),!s&&this.$once[r.name]&&(a=e(this.$once[r.name],i))>-1&&this.$once[r.name].splice(a,1),this},u=function(t,i){if(this.$events_destroyed)return this;var s=n(t);return this.$once[s.name]||(this.$once[s.name]=[]),-1==e(this.$once[s.name],i)&&this.$once[s.name].push(i),this.addEvent(s.name,i)},v=function(e,t){return this.$events_destroyed?this:(this.$latched||(this.$latched={}),this.$latched[e]={args:t},this.fireEvent(e,t),this)},f.addEvent=l,f.addEvents=c,f.addEventOnce=u,f.fireEvent=d,f.fireLatchedEvent=v,f.removeEvent=g,f.processType=n,f}),n.define("C.global.tutors.chat",{inputs:["render","page refreshed","toggle chat list","auth loaded"],output:["rendered"]},function(t){var i=e("<div class='embed-js' id='chat-component'></div>");e("body").append(i);var s=window.lightningjs.require("chat"),a=new RegExp(["^[/]login","^[/]auth"].join("|")),r=!1,o=function(){if(!r){var e=n.find("C.common.auth");e.getId()&&(e.trigger("disable redirect",!0).on("authentication successful",c),r=!0)}},h=function(){return!!a.test(window.location.pathname)&&(s("hasDeferred",function(e){e&&o()}),s("minimizeWindows"),!0)},l=function(){"/signout"===window.location.pathname&&(C.utility.setCookie("sessionid","",-1),s("signOut"))},c=function(){s("deferFinish",function(){n.find("C.common.auth").trigger("do redirect")})},d=function(e,t){s("deferSave",e,t,function(){C.utility.navigate("/auth")})};this.authLoaded=function(){h()},this.start=function(){l(),h(),s("onChegg",{"sign-up":function(e){d("queueMessage",e)},"sign-up:meet-now":function(e){d("saveMeetNow",e)}}),s("start")},this.render=function(){s("render",i[0],{OMNIBAR_MINIMIZE:!0}),this.start()},this.pageRefreshed=function(){l(),h()||C.global.userUuid||s("deferSave",null),s("hideOmnibar")},this.toggleChatList=function(e,t){s("toggleOmnibar",!!t)},this.setListeners=function(){n.find(this).on("render",this.render).on("toggle chat list",this.toggleChatList).on("page refreshed",this.pageRefreshed).on("auth loaded",this.authLoaded)},this.initialize=function(){C.global.instaEdu&&this.setListeners()},this.initialize()}),n.define("C.global.tutors.embed",{inputs:["render"],output:["rendered"]},function(e){window.lightningjs||function(e){function t(t,s){var n="1";return s&&(s+=(/\?/.test(s)?"&":"?")+"lv="+n),e[t]||function(){var n=window,a=document,r=t,o=a.location.protocol,h="load",l=0;!function(){function t(){c.P(h),c.w=1,e[r]("_load")}e[r]=function(){function t(){return t.id=a,e[r].apply(t,arguments)}var i=arguments,s=this,a=++l,o=s&&s!=n?s.id||0:0;return(c.s=c.s||[]).push([a,o,i]),t.then=function(e,i,s){var n=c.fh[a]=c.fh[a]||[],r=c.eh[a]=c.eh[a]||[],o=c.ph[a]=c.ph[a]||[];return e&&n.push(e),i&&r.push(i),s&&o.push(s),t},t};var c=e[r]._={};c.fh={},c.eh={},c.ph={},c.l=s?s.replace(/^\/\//,("https:"==o?o:"http:")+"//"):s,c.p={0:+new Date},c.P=function(e){c.p[e]=new Date-c.p[0]},c.w&&t(),n.addEventListener?n.addEventListener(h,t,!1):n.attachEvent("on"+h,t);var d=function(){function e(){return["<head></head><",t,' onload="var d=',v,";d.getElementsByTagName('head')[0].",o,"(d.",h,"('script')).",l,"='",c.l,"'\"></",t,">"].join("")}var t="body",s=a[t];if(!s)return setTimeout(d,100);c.P(1);var n,o="appendChild",h="createElement",l="src",g=a[h]("div"),u=g[o](a[h]("div")),f=a[h]("iframe"),v="document",m="domain",p="contentWindow";g.style.visibility="hidden",g.style.height="0px",s.insertBefore(g,s.firstChild).id=i+"-"+r,f.frameBorder="0",f.id=i+"-frame-"+r,/MSIE[ ]+6/.test(navigator.userAgent)&&(f[l]="javascript:false"),f.allowTransparency="true",u[o](f);try{f[p][v].open()}catch(b){c[m]=a[m],n="javascript:var d="+v+".open();d.domain='"+a.domain+"';",f[l]=n+"void(0);"}try{var C=f[p][v];C.write(e()),C.close()}catch(x){f[l]=n+'d.write("'+e().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}c.P(2)};c.l&&d()}()}(),e[t].lv=n,e[t]}var i="lightningjs",s=window[i]=t(i);s.require=t,s.modules=e}({});var t=C.global.tutorsCdnUrl||"/tutors/",i=window.lightningjs.require("embed",t+"publish/static/js/embed.js");this.render=function(){i("config",{uid:C.global.userUuid,CHEGG_UUID_CHECKSUM:C.global.uuidChecksum,CSS_URL:t+"publish/static/css/embed-chegg.css"}),i("on",{redirect:function(e){window.location.href=e}});var e=n.create("C.global.tutors.chat").trigger("render");n.immuneToDestroyAll(e)},this.setListeners=function(){n.find(this).on("render",this.render)},this.initialize=function(){C.global.instaEdu&&this.setListeners()},this.initialize()}),n.define("C.common.avatar",{inputs:["set avatar id","update avatar image url","update avatar image url with matching id","set size","set shape","set border","set avatar link url"],outputs:["rendered"]},function(t){this.id=null,this.$el=t.el,this.$el.addClass("medium"),this.$el.append(e("<img>")),this.$el.hide(),this.setSize=function(e,t){this.$el.removeClass("xsmall small medium large xlarge").addClass(t),this.resizeImage()},this.setShape=function(e,t){this.$el.removeClass("circle square").addClass(t)},this.enableBorder=function(e,t){t?this.$el.addClass("border"):this.$el.removeClass("border")},this.setUserId=function(e,t){this.id=t},this.resizeImage=function(){var t=e("img",this.$el);t.naturalWidth()>0&&t.naturalHeight()>0?this.onLoadImage():t.on("load",e.proxy(this.onLoadImage,this))},this.onLoadImage=function(){var t=e("img",this.$el),i=t.naturalWidth(),s=t.naturalHeight(),n=this.$el.width(),a=this.$el.height();if(i>s){var r=a*i/s,o=r/a*100,h=(r-a)/2;t.css({position:"relative","max-width":"none",width:o.toFixed(0)+"%",left:"-"+h.toFixed(1)+"px"})}else if(s>i){var l=n*s/i,c=l/n*100,d=(l-n)/2;t.css({position:"relative","max-height":"none",height:c.toFixed(0)+"%",top:"-"+d.toFixed(1)+"px"})}},this.updateImageUrl=function(t,i){var s=i;this.resizeImage(),e("img",this.$el).attr("src",s),this.$el.show()},this.updateImageUrlWithMatchingId=function(e,t){var i=t.id,s=t.image;i?i==this.id&&this.updateImageUrl(null,s):this.updateImageUrl(null,s)},this.setLinkUrl=function(t,i){var s=e("img",this.$el);s.remove(),e("<a></a>").attr("href",i).append(s).appendTo(this.$el)},n.find(this).on("set avatar id",this.setUserId).on("set size",this.setSize).on("set shape",this.setShape).on("set border",this.enableBorder).on("set avatar link url",this.setLinkUrl).on("update avatar image url",this.updateImageUrl).on("update avatar image url with matching id",this.updateImageUrlWithMatchingId)}),n.define("C.global.cheggheader",{inputs:["render","oc search loaded","page refreshed","hide all overlays","close nav dropdowns","close menu","hide user distractions","show user distractions","update user menu","update type","enable translucent background","disable translucent background","collapse search","set search on scroll","set no search","set search type","set user menu items","disable constellation"],output:[]},function(){this.render=function(){return 0===e(".chgg-hdr").length?"":(headerEl=e(".chgg-hdr"),this.menuEvents=n.create("C.global.cheggheader.menu",{targetEl:headerEl.find(".chgg-menu-container"),menuEl:headerEl.find(".chgg-menu")}).trigger("load events"),this.navEvents=n.create("C.global.cheggheader.navigation",{targetEl:headerEl.find(".chgg-hdr-navigation")}).trigger("load events"),this.rightSection=n.create("C.global.cheggheader.rightsection",{el:e(".chgg-hdr-right-section-main"),userMenuItems:this.userMenuItems}).trigger("render"),e('oc-component[data-name="chegg-header"]').before("<div class='bowdoin-hdr'></div>"),this.subHeader=n.create("C.global.chggheader.bowdoin",{el:e(".bowdoin-hdr")}).trigger("render"),this.createSearch(),n.immuneToDestroyAll(this.menuEvents),n.immuneToDestroyAll(this.navEvents),n.immuneToDestroyAll(this.rightSection),n.immuneToDestroyAll(this.subHeader),n.connect(this.menuEvents,"cheggheaderMenuOpened",n.find(this),"hide all overlays"),n.connect(this.menuEvents,"cheggheaderMenuOpened",n.find(this),"close nav dropdowns"),n.connect(this.navEvents,"hover menu opened",n.find(this),"hide all overlays"),n.connect(this.navEvents,"hover menu opened",n.find(this),"close menu"),void this.setupScrollChanges(this.scrollEndpoint))},this.createSearch=function(){window.globalChggHeaderSearch=n.create("C.global.cheggheader.searchbox",{el:e(".chgg-hdr-search-box")}).trigger("set search type",this.searchPayload).on("search field collapsed",e.proxy(function(){this.handleScrollChanges(this.scrollEndpoint)},this)).trigger("render"),n.immuneToDestroyAll(window.globalChggHeaderSearch),n.connect(window.globalChggHeaderSearch,"search field start expanding",this.navEvents,"collapse navigation items"),n.connect(window.globalChggHeaderSearch,"search field start expanding",n.find(this),"hide all overlays"),n.connect(window.globalChggHeaderSearch,"search field start expanding",n.find(this),"close nav dropdowns"),n.connect(window.globalChggHeaderSearch,"search field start expanding",n.find(this),"close menu"),n.connect(window.globalChggHeaderSearch,"search field collapsed",this.navEvents,"expand navigation items"),n.connect(window.globalChggHeaderSearch,"navigation items start expanding",window.globalChggHeaderSearch,"collapse search box")},this.setSearchType=function(e,t){"default"!==t?this.searchPayload=JSON.parse(t):this.searchPayload="default"},this.expandSearch=function(){window.globalChggHeaderSearch.trigger("expand search box"),n.find(window.globalChggHeaderSearch).trigger("disable auto collapse of searchbox")},this.collapseSearch=function(){window.globalChggHeaderSearch.trigger("collapse search box")},this.hideAllOverlays=function(){window.globalChggHeaderSearch.trigger("close search results"),this.rightSection.trigger("close right section overlays")},this.closeNavDropdowns=function(){this.navEvents.trigger("hide hover items")},this.closeMenu=function(){this.menuEvents.trigger("close")},this.setUserMenuItems=function(e,t){this.userMenuItems=t},this.updateUserMenu=function(){n.find("C.global.cheggheader.rightsection.usermenu").trigger("update template")},this.hideSearchBox=function(){e(".chgg-hdr-search-box").addClass("hidden")},this.showSearchBox=function(){this.distractionsHidden||this.noSearch||e(".chgg-hdr-search-box").removeClass("hidden")},this.updateType=function(t,i){for(var s,n=["home","books","study","tutors","testprep","internships","colleges"],a=0;a<n.length;a++)if(s=e(".type-"+n[a]),s.length>0){s.removeClass("type-"+n[a]).addClass("type-"+i);break}this.navEvents.trigger("refresh nav")},this.setListeners=function(){n.find(this).on("render",this.render).on("oc search loaded",this.createSearch).on("page refreshed",this.pageRefreshed).on("hide all overlays",this.hideAllOverlays).on("close nav dropdowns",this.closeNavDropdowns).on("close menu",this.closeMenu).on("hide user distractions",this.hideDistractions).on("show user distractions",this.showDistractions).on("update user menu",this.updateUserMenu).on("update type",this.updateType).on("enable translucent background",this.enableTranslucency,this).on("disable translucent background",this.disableTranslucency,this).on("collapse search",this.collapseSearch,this).on("set search on scroll",this.setSearchOnScroll,this).on("set no search",this.setNoSearch,this).on("set search type",this.setSearchType,this).on("set user menu items",this.setUserMenuItems,this).on("disable constellation",this.disableConstellation,this)},this.setNoSearch=function(e,t){this.noSearch=t,this.noSearch?this.hideSearchBox():this.showSearchBox()},this.setSearchOnScroll=function(e,t){this.searchOnScroll=t,this.handleScrollChanges(this.scrollEndpoint)},this.disableConstellation=function(e,t){t&&n.find(this).off("update type")},this.hideDistractions=function(){this.distractionsHidden=!0,e(".chgg-menu-container").addClass("hidden"),e(".chgg-menu").addClass("hidden"),e(".chgg-hdr-navigation").addClass("hidden"),e(".chgg-hdr-right-section").addClass("hidden"),e(".chgg-hdr-search-container").addClass("hidden")},this.showDistractions=function(){this.distractionsHidden=!1,e(".chgg-menu-container").removeClass("hidden"),e(".chgg-hdr-navigation").removeClass("hidden"),e(".chgg-hdr-right-section").removeClass("hidden"),e(".chgg-hdr-search-container").removeClass("hidden")},this.enableTranslucency=function(){this.translucencyEnabled=!0,e('oc-component[data-name="chegg-header"]').after("<div class='translucent-header'></div>"),this.handleScrollChanges(this.scrollEndpoint)},this.disableTranslucency=function(){this.translucencyEnabled=!1,e(".translucent-header").remove(),e(".chgg-hdr").removeClass("translucent")},this.setupScrollChanges=function(t){e(document).scroll(e.proxy(function(){this.handleScrollChanges(t)},this)),this.handleScrollChanges(t)},this.handleScrollChanges=function(t){var i=e(document).scrollTop();i>=t?(this.translucencyEnabled&&(e(".chgg-hdr").removeClass("translucent"),e(".chgg-hdr").addClass("easeIn"),e(".chgg-hdr").css("top","0px")),this.showSearchBox()):t>i&&(this.translucencyEnabled&&(e(".chgg-hdr").removeClass("easeIn"),e(".chgg-hdr").addClass("translucent")),e(".C-global-cheggheader-searchbox").hasClass("expanded")||(this.searchOnScroll?this.hideSearchBox():this.showSearchBox())),e(".chgg-hdr").hasClass("bowdoin-active")&&e(".chgg-hdr").css("top","40px")},this.pageRefreshed=function(){this.menuEvents.trigger("refresh menu"),this.navEvents.trigger("refresh nav"),this.rightSection.trigger("page refreshed"),window.globalChggHeaderSearch.trigger("page refreshed"),this.subHeader.trigger("page ajax loaded"),this.closeMenu()},this.initialize=function(){this.scrollEndpoint=100,this.noSearch=!1,this.userMenuItems={},this.distractionsHidden=e(".chgg-hdr-right-section").hasClass("hidden"),this.searchOnScroll=e(".chgg-hdr-search-box").hasClass("hidden"),this.translucencyEnabled=e(".chgg-hdr").hasClass("translucent"),this.setListeners()},this.initialize()}),n.define("C.global.cheggheader.menu",{inputs:["load events","open","close"],output:["cheggheaderMenuOpened","cheggheaderMenuClosed"]},function(t){this.$el=t.targetEl,this.$menu=t.menuEl,this.showMenu=function(e){this.$el.addClass("open"),this.$menu.removeClass("hidden"),n.find(this).trigger("cheggheaderMenuOpened")},this.hideMenu=function(e){this.$el.removeClass("open"),this.$menu.addClass("hidden"),n.find(this).trigger("cheggheaderMenuClosed")},this.loadClickEvents=function(){this.$el.click(e.proxy(function(e){e.stopPropagation(),this.$el.hasClass("open")?this.hideMenu():this.showMenu()},this))},this.refreshMenu=function(){this.hideMenu()},this.setListeners=function(){n.find(this).on("load events",this.loadClickEvents).on("open",this.showMenu,this).on("close",this.hideMenu,this).on("refresh menu",this.refreshMenu,this),e(document).on("click",e.proxy(function(t){0===e(t.target).closest(".chgg-menu-container").length&&this.hideMenu()},this)),e(".chgg-menu-container.open").on("click",e.proxy(function(e){this.hideMenu()},this))},this.initialize=function(){this.setListeners()},this.initialize()}),n.define("C.global.cheggheader.navigation",{inputs:["load events","hide hover items"],output:[]},function(t){this.$el=t.targetEl,this.setDefaultSelection=function(t){this.$el.find(".nav-item").removeClass("highlight-item");var i=t?t:window.location.pathname,s=window.location.hash,n=window.location.hostname,a="";e(".type-home").length>0?(a=-1!==i.indexOf("/books")||-1!==i.indexOf("/textbooks")||-1!==i.indexOf("/sell-textbooks")||-1!==i.indexOf("/bookstore")||-1!==i.indexOf("/occp")||-1!==i.indexOf("/etextbooks")||-1!==i.indexOf("/shoppingcart")||-1!==i.indexOf("/used-textbooks")||-1!==i.indexOf("/cheap-textbooks")||-1!==i.indexOf("college-textbooks")||-1!==i.indexOf("/my/account/returnbooks")?".books-item":a,a=-1!==i.indexOf("/study")||-1!==i.indexOf("/search")&&-1!==i.indexOf("/textbook-solutions")||-1!==i.indexOf("/search")&&-1!==i.indexOf("/questions-and-answers")||-1!==i.indexOf("/csorderconfirm")||-1!==i.indexOf("/my/expertqa")||-1!==i.indexOf("/homework-help")?".study-item":a,a=-1!==i.indexOf("/tutoringpolicy")||-1!==i.indexOf("/search")&&-1!==i.indexOf("/tutors")?".tutors-item":a,a=-1!==i.indexOf("/test-prep")?".test-prep-item":a,a=-1!==i.indexOf("/app/internships")||-1!==i.indexOf("/career-cente")?".internships-item":a,a=-1!==i.indexOf("/schools")||-1!==i.indexOf("/admissions")||-1!==i.indexOf("/scholarships")||-1!==i.indexOf("/major")?".colleges-item":a):e(".type-books").length>0?(a=-1!==i.indexOf("/books")||-1!==i.indexOf("/textbooks/")&&"/textbooks/"!==i||-1!==i.indexOf("/shoppingcart")||-1!==i.indexOf("/checkout/")||-1!==i.indexOf("/occp")?".rent-buy-item":a,a=-1!==i.indexOf("/books")&&-1!==s.indexOf("sell")||-1!==i.indexOf("/sell-textbooks")||-1!==i.indexOf("/selltextbooks")?".sell-item":a):e(".type-study").length>0?(a=".home-item",a=-1!==i.indexOf("/study/textbook-solutions")||-1!==i.indexOf("/study/tbs")||-1!==i.indexOf("/homework-help/textbook-solutions")?".tbs-item":a,a=-1!==i.indexOf("/study/questions-and-answers")||-1!==i.indexOf("/study/qa")||-1!==i.indexOf("/homework-help/questions-and-answers")?".qa-item":a):e(".type-tutors").length>0||(e(".type-testprep").length>0?(a=".home-item",a=-1!==i.indexOf("/test-prep/act")?".act-prep-item":a,a=-1!==i.indexOf("/test-prep/sat")?".sat-prep-item":a,a=-1!==i.indexOf("/test-prep/pricing")?".pricing-item":a,a=-1!==i.indexOf("/parents/test-prep")?".parents-item":a):e(".type-internships").length>0?(a=-1!==i.indexOf("/app/internships")?".jobs-item":a,a=-1!==i.indexOf("/career-center")?".career-profiles-item":a,a=-1!==i.indexOf("/career-center/advice")?".advice-item":a):e(".type-colleges").length>0&&(a=-1!==i.indexOf("/schools")?".explore-item":a,a=-1!==i.indexOf("/admissions/college-list")?".my-list-item":a,a=-1!==i.indexOf("/admissions/advice")?".advice-item":a,a=-1!==i.indexOf("/scholarships")?".scholarships-item":a)),a=-1!==n.indexOf("play.chegg.com")?".play-item":a,""!==a&&this.$el.find(a).addClass("highlight-item")},this.centralizeDivsAndCarrots=function(){e(".nav-item").each(function(t){var t=e(e(".nav-item")[t]),i=t.width();t.find(".carrot").css({"margin-left":Math.max(i/2,10)}),t.find(".single-box.right").css({"margin-left":i/2-100})})},this.showHoverItems=function(t){e(t.currentTarget).find(".nav-hover-box").css({display:"block"}),e(t.currentTarget).addClass("hover-box-visible"),n.find(this).trigger("hover menu opened")},this.hideHoverItems=function(t){e(t.currentTarget).find(".nav-hover-box").css({display:"none"}),e(t.currentTarget).removeClass("hover-box-visible")},this.loadHoverEvents=function(){e(this.$el.find(".nav-item")).hover(e.proxy(this.showHoverItems,this),this.hideHoverItems)},this.loadClickEvents=function(){this.is_touch_device()?(e(window).width()>980&&e(".chgg-hdr-navigation .nav-item").click(e.proxy(function(t){if(t.preventDefault(),t.stopPropagation(),e(t.currentTarget).find(".nav-hover-box").is(":visible"))this.hideHoverItems(t);else if(e(".nav-hover-box").is(":visible")&&e(".nav-hover-box").css({display:"none"}),this.showHoverItems(t),e(".nav-hover-box").is(":visible"))e(".chgg-hdr-navigation .nav-item").find(".links-section a").click(e.proxy(function(t){C.utility.navigate(e(t.currentTarget).attr("href"))},this));else{var i=e(t.currentTarget);i.hasClass("tutors-item")&&C.logger.doSessionLog({tutors_nav_clicked:"nav_item"}),C.utility.navigate(e(t.currentTarget).find(".nav-item-header").attr("href"))}},this)),e("html").click(e.proxy(function(){0==e(".chgg-hdr-navigation .nav-item:hover").length&&e(".chgg-hdr-navigation .nav-hover-box").is(":visible")&&e(".chgg-hdr-navigation .nav-hover-box").css({display:"none"})},this)),e(document).scroll(e.proxy(function(){e(".chgg-hdr-navigation .nav-hover-box").is(":visible")&&e(".chgg-hdr-navigation .nav-hover-box").css({display:"none"})},this)),e(".chgg-hdr-navigation .nav-item.highlight-item").click(e.proxy(function(t){t.preventDefault(),t.stopPropagation(),e(".chgg-hdr-navigation").addClass("expanded"),e(".chgg-hdr-navigation-overlay").show()},this)),e(".chgg-hdr-navigation .nav-item.collapse-item, .chgg-hdr-navigation-overlay").click(e.proxy(function(t){t.preventDefault(),t.stopPropagation(),e(".chgg-hdr-navigation").removeClass("expanded"),e(".chgg-hdr-navigation-overlay").hide()},this))):e(".nav-item").each(e.proxy(function(t){var t=e(e(".nav-item")[t]);t.find(".nav-item-header").click(e.proxy(function(t){this.setDefaultSelection(e(t.currentTarget).attr("href"))},this)),t.click(e.proxy(function(e){this.hideHoverItems(e)},this))},this))},this.loadEvents=function(){this.is_touch_device()?this.loadClickEvents():(this.loadHoverEvents(),this.loadClickEvents())},this.collapse=function(t){e(".chgg-hdr-navigation").fadeOut(200)},this.expand=function(){e(".chgg-hdr-navigation").show(),n.find(this).trigger("navigation items expanded")},this.refreshNav=function(){this.setDefaultSelection()},this.is_touch_device=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},this.setListeners=function(){n.find(this).on("load events",this.loadEvents).on("collapse navigation items",this.collapse,this).on("expand navigation items",this.expand,this).on("hide hover items",this.hideHoverItems,this).on("refresh nav",this.refreshNav,this)},this.initialize=function(){this.centralizeDivsAndCarrots(),this.setListeners(),this.setDefaultSelection()},this.initialize()}),n.define("C.global.cheggheader.rightsection.cart",{inputs:["render","show","hide"],output:["rendered"]},function(t){this.$el=t.el,this.tmpl='<div class="cart-item nav-item chg-cart-area"><div class="header chg-menu-item track-cart"><span class="chg-cart"></span><span class="chg-cart-count"></span></div><div class="carrot"><div class="carrot-inner"></div></div><div class="cart-hover-content hover-box"></div></div>',this.tmpl2='<a class="chg-cart-area track-cart nav-item" rel="nofollow" data-noajax="data-noajax" href="'+C.global.cheggSiteUrl+'shoppingcart/"><span class="chg-cart"></span><span class="chg-cart-count"></span></a>',this.render=function(){C.global.minicart?(this.$el.append(this.tmpl),this.renderMiniCart(),e(".cart-item",this.$el).on("click",e.proxy(function(t){0==e(t.target).closest(".cart-hover-content, .carrot").length&&C.global.minicart.trigger("show")},this)),e(document).on("click",e.proxy(function(t){0==e(t.target).closest(".nav-item.cart-item").length&&C.global.minicart.trigger("hide")},this))):(this.$el.append(this.tmpl2),C.utility.updateCart())},this.renderMiniCart=function(){C.global.minicart=n.create("C.global.cheggheader.minicart",{el:e(".cart-hover-content",this.$el)}).trigger("render"),n.immuneToDestroyAll(C.global.minicart)},this.pageRefreshed=function(){C.global.minicart&&C.global.minicart.trigger("hide")},this.setListeners=function(){n.find(this).on("render",this.render).on("page refreshed",this.pageRefreshed,this)},this.initialize=function(){this.setListeners()},this.initialize()}),n.define("C.global.cheggheader.rightsection.coupon",{inputs:["render","show","hide"],output:["rendered"]},function(t){this.$el=t.el,this.render=function(){this.coupon=n.create("C.global.coupon",{el:e(".chg-hdr-coupon-area",this.$el)}),n.immuneToDestroyAll(this.coupon)},this.initialize=function(){n.find(this).on("render",this.render)},this.initialize()}),n.define("C.global.cheggheader.rightsection",{inputs:["render","show","hide","close right section overlays"],output:["rendered"]},function(e){this.$el=e.el,this.userMenuItems=e.userMenuItems,this.render=function(){this.cart=n.create("C.global.cheggheader.rightsection.cart",{el:this.$el}).trigger("render"),this.notifications=n.create("C.global.cheggheader.rightsection.notifications",{el:this.$el}).trigger("render"),this.userMenu=n.create("C.global.cheggheader.rightsection.usermenu",{el:this.$el,items:this.userMenuItems}).trigger("render"),n.immuneToDestroyAll(this.cart),n.immuneToDestroyAll(this.userMenu),n.immuneToDestroyAll(this.notifications)},this.closeRightSectionOverlays=function(){this.userMenu.trigger("hide menu"),this.notifications&&this.notifications.trigger("close notifications overlays")},this.pageRefreshed=function(){this.cart.trigger("page refreshed",this),this.userMenu.trigger("page refreshed",this)},this.setListeners=function(){n.find(this).on("render",this.render).on("close right section overlays",this.closeRightSectionOverlays,this).on("page refreshed",this.pageRefreshed,this)},this.initialize=function(){this.setListeners()},this.initialize()}),n.define("C.global.cheggheader.rightsection.notifications",{inputs:["render"],output:["rendered"]},function(t){this.$el=t.el;var i=e("<div class='chg-hdr-notifications embed-js' id='notifications-component'></div>");this.$el.append(i);var s=window.lightningjs.require("notifications");this.start=function(){s("start")},this.render=function(){s("render",i[0]),C.global.userUuid&&this.start()},this.hideOverlay=function(){s("toggle",!1)},this.setListeners=function(){n.find(this).on("render",this.render).on("close notifications overlays",this.hideOverlay,this)},this.initialize=function(){C.global.userUuid&&C.global.instaEdu&&this.setListeners()},this.initialize()}),n.define("C.global.cheggheader.rightsection.usermenu",{inputs:["render","show","hide","show menu","hide menu","update template","page refreshed"],output:["rendered"]},function(t){this.$el=t.el,this.items=t.items,this.signOutTmpl=i.template('<a href="<%- cheggSiteUrl %>login/?redirect=<%-encodeURIComponent(location.href)%>" class="signin-item nav-item">Sign in</a><div class="more-item nav-item"><div class="header">More <span class="icon-chegg-chevron"></span></div><div class="carrot"><div class="carrot-inner"></div></div><div class="more-hover-content hover-box"><ul><% _.each(items, function(itm) { %><li <% if (itm.desktopOnly) { %>class="no-mobile"<% } %> ><a href="<%- cheggSiteUrl %><%- itm.path %>"  class="track-<%- itm.classname %>" rel="nofollow"><%- itm.name %></a></li><% }); %><li><a href="<%- liveSiteUrl %>my/account/returnbooks"  class="track-return-books" data-noajax>Return books</a></li><li><a href="<%- liveSiteUrl %>sell-textbooks"  class="track-sell-books" data-noajax>Sell books</a></li><li><a href="<%- liveSiteUrl %><%- help %>"  class="track-help" data-noajax>Help</a></li><li ><a href="<%- cheggSiteUrl %>signup/?redirect=<%-encodeURIComponent(location.href)%>" class="track-signup">Create an account</a></li></ul></div></div>'),this.signInTmpl=i.template('<div class="user-item nav-item"><div class="header"><span class="avatar"></span><span class="arrow-down"><span class="icon-chegg-chevron"></span></span></div><div class="carrot"><div class="carrot-inner"></div></div><div class="user-hover-content hover-box my-account-v2"><div class="background-avatar"><div class="img-container"><img src="<%- avatar %>"></div></div><a class="profile-link" href="<%- liveSiteUrl %>my/profile"></a><div class="profile"><div class="track-user-avatar avatar"></div><div class="info"><a class="name track-my-profile capitalized" href="<%- liveSiteUrl %>my/profile"><%- userName %></a><div class="email"><%- userEmail %></div><a class="my-profile track-my-profile icon-chegg-chevron" href="<%- liveSiteUrl %>my/profile"></a></div></div><div class="custom-user-hover-content"></div><ul><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-my-account"></div></div><a href="<%- cheggSiteSecureUrl %>my/account" class="track-my-account" rel="nofollow">My account</a></div></li><% _.each(items, function(itm) { %><li <% if (itm.desktopOnly) { %>class="no-mobile"<% } %> ><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-<%- itm.classname %>"></div></div><a href="<%- cheggSiteSecureUrl %><%- itm.path %>" class="track-<%- itm.classname %>" rel="nofollow"><%- itm.name %></a></div></li><% }); %><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-return-books"></div></div><a href="<%- liveSiteUrl %>my/account/returnbooks" class="track-return-books" rel="nofollow">Return books</a></div></li><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-sell-books"></div></div><a href="<%- liveSiteUrl %>sell-textbooks" class="track-sell-books" rel="nofollow">Sell books</a></div></li><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-help"></div></div><a href="<%- liveSiteUrl %><%- help %>" class="track-help" rel="nofollow">Help</a></div></li><li><div class="menu-item-container"><div class="menu-item-image-container"><div class="menu-item-image image-signout"></div></div><a href="<%- liveSiteUrl %>signout?token=<%- csrfToken %>" class="track-signout" rel="nofollow" data-noajax>Sign out</a></div></li></ul></div></div>'),
this.showMenu=function(){e(".nav-item.user-item, .nav-item.more-item",this.$el).addClass("active")},this.hideMenu=function(){e(".nav-item.user-item, .nav-item.more-item",this.$el).removeClass("active")},this.getUser=function(){var t=C.utility.getCookie("SU")||"loggedOutUser";C.global.userEmail||C.global.userAvatar?(e(".chgg-hdr").addClass("loggedIn"),C.global.loggedIn=!0,this.render()):e.ajax({url:C.global.cheggBaseUrl+"_ajax/header/global/user",type:"post",dataType:"json",data:{SU:t,token:C.global.csrfToken},xhrFields:{withCredentials:!0},context:this,success:function(t){null!==t&null!==t.user?(e(".chgg-hdr").addClass("loggedIn"),C.global.loggedIn=!0,C.global.userFirstName="undefined"!=typeof t.user.fname?t.user.fname:"",C.global.userLastName=t.user.lname?t.user.lname:"",C.global.userEmail=t.user.email,C.global.userAvatar=t.user.avatar,C.global.userUuid=t.user.uuid):C.global.loggedIn=!1,this.render()},error:function(e){C.global.loggedIn=!1,this.render()}})},this.render=function(){if(C.global.loggedIn===!1)this.$el.append(this.signOutTmpl({cheggSiteUrl:C.global.cheggSiteUrl,liveSiteUrl:C.global.liveSiteUrl,items:"items"in this.items&&"signedOut"in this.items.items?this.items.items.signedOut:[],help:"help"in this.items?this.items.help:"contactus"}));else{var t=C.global.userFirstName?C.global.userFirstName+" "+C.global.userLastName:"",i="signInTmpl";this.$el.append(this[i]({cheggSiteSecureUrl:C.global.cheggSiteSecureUrl,liveSiteUrl:C.global.liveSiteUrl,csrfToken:C.global.csrfToken,userEmail:C.global.userEmail,userName:t,avatar:C.global.userAvatar,items:"items"in this.items&&"signedIn"in this.items.items?this.items.items.signedIn:[],help:"help"in this.items?this.items.help:"contactus"}));var s=n.create("C.common.avatar",{el:e(".user-item .header .avatar",this.$el)}).trigger("set avatar id",C.global.userUuid).trigger("set size","xsmall").trigger("set shape","circle").trigger("set border").trigger("update avatar image url",C.global.userAvatar),a=n.create("C.common.avatar",{el:e(".user-item .user-hover-content .profile .avatar",this.$el)}).trigger("set avatar id",C.global.userUuid).trigger("set size","medium").trigger("set shape","circle").trigger("set avatar link url",C.global.liveSiteUrl+"my/profile").trigger("update avatar image url",C.global.userAvatar);n.immuneToDestroyAll(s),n.immuneToDestroyAll(a),-1!=C.global.userAvatar.indexOf("avatar_unisex.png")&&(this.$el.find(".background-avatar").hide(),this.$el.find(".carrot").css("visibility","visible"))}e(".nav-item.user-item, .nav-item.more-item",this.$el).on("click",function(){e(this).toggleClass("active").hasClass("active")&&n.find("C.global.tutors.chat").trigger("toggle chat list",!1)}),e(document).on("click",e.proxy(function(t){0==e(t.target).closest(".nav-item.user-item, .nav-item.more-item").length&&e(".nav-item",this.$el).removeClass("active")},this))},this.updateTemplate=function(){this.$el.find(".name").html(C.global.userFirstName+" "+C.global.userLastName)},this.pageRefreshed=function(){e("a.signin-item").attr("href",C.global.cheggSiteUrl+"login/?redirect="+encodeURIComponent(location.href)),e("a.track-signup").attr("href",C.global.cheggSiteUrl+"signup/?redirect="+encodeURIComponent(location.href)),e("a.track-signin").attr("href",C.global.cheggSiteUrl+"login/?redirect="+encodeURIComponent(location.href))},this.setListeners=function(){n.find(this).on("show menu",this.showMenu).on("hide menu",this.hideMenu).on("update template",this.updateTemplate).on("render",this.getUser).on("page refreshed",this.pageRefreshed)},this.initialize=function(){this.setListeners()},this.initialize()}),n.define("C.global.cheggheader.searchbox",{inputs:["render","expand search box","collapse search box","hide","show","page refreshed"],output:["rendered","search field expanded","search field collapsed","search field start expanding","search field start collapsing","disable auto collapse of searchbox","enable auto collapse of searchbox"]},function(t){this.$el=t.el,this.autoCollapse=!0,this.setSearch=function(t,i){this.searchRender={ajaxEndpoint:"/_ajax/search/globallist",filters:{type:"group"}},"default"!=i&&e.extend(!0,this.searchRender,i)},this.render=function(){this.placeholderText="Find books, solutions, tutors and more...";var t='<a class="chgg-logo home" href="/"></a><a class="chgg-logo books" href="/books"></a><a class="chgg-logo study" href="/study"></a><a class="chgg-logo tutors" href="/tutors"></a><a class="chgg-logo testprep" href="/test-prep"></a><a class="chgg-logo internships" href="/app/internships"></a><a class="chgg-logo colleges" href="/schools"></a>';this.$el.append('<div class="chg-header-autosuggest"><div class="chg-search-content">'+t+'</div><div class="overlay-wrapper"><div class="hidden-overlay"></div></div></div>');var i='<form class="chg-search-form" action="/search" onsubmit="return false"><a data-type="button" class="autosuggest-search-btn search-magnify-btn" href="#"><span class="icn-magnify">SEARCH</span><span class="icon-chegg-search"></span></a><input id="header-autosuggest-input" name="autosuggest-input" class="header-autosuggest autosuggest-input-field form-input-sm" type="text"autocomplete="off" placeholder="Search"><a class="autosuggest-search-cancel search-magnify-btn-close autosuggest-search-cancel"  href="#"></a></form><div class="autosuggest-input-search-container"></div><a href="#" class="search-close"><span class="icon-chegg-cancel"></span></a>';e(".chg-header-autosuggest .chg-search-content",this.$el).append(i),this.searchRender.target=e(".chgg-hdr .autosuggest-input-field");var s=window.cev||new Events;window.cev=window.cev||s,window.cev.addEvent("searchLoad:once",e.proxy(function(t){this.autosuggestWidget||(this.autosuggestWidget=n.create("C.common.search",{el:e(".autosuggest-input-search-container",this.$el)}).trigger("render",this.searchRender),n.immuneToDestroyAll(this.autosuggestWidget),C.global.headerAutosuggest=this.autosuggestWidget,e(window).click(e.proxy(function(){this.autosuggestWidget.trigger("hide results")},this)),e(".chg-header-autosuggest",this.$el).on("click",function(e){e.stopPropagation()}),e(".hidden-overlay",this.$el).on("click",e.proxy(function(){this.expand(),e("#header-autosuggest-input, .autosuggest-input-field",this.$el).focus()},this)),e(document).on("click",e.proxy(function(t){1==e(".chg-header-autosuggest",this.$el).not(e(t.target).closest(".C-global-cheggheader-searchbox").find(".chg-header-autosuggest")).length&&this.autoCollapse&&this.collapse()},this)),e(".search-close").on("click",e.proxy(function(e){e.preventDefault(),this.collapse()},this)),this.Eggshell.trigger("rendered"))},this)),this.populateInputField()},this.expand=function(){this.$el.hasClass("expanded")||this.$el.hasClass("animate")||(this.$el.addClass("animate"),this.Eggshell.trigger("search field start expanding"),e(".C-global-cheggheader-searchbox").animate({width:"580px"},400,e.proxy(function(){e(".C-global-cheggheader-searchbox").css({width:""}),this.$el.addClass("expanded"),this.$el.removeClass("animate"),e("#header-autosuggest-input, .autosuggest-input-field").attr("placeholder",this.placeholderText),this.Eggshell.trigger("search field expanded")},this)))},this.collapse=function(){this.$el.hasClass("expanded")&&!this.$el.hasClass("animate")&&(this.$el.addClass("animate"),this.Eggshell.trigger("search field start collapsing"),e(".C-global-cheggheader-searchbox").animate({width:e(document).width()<=1045?"204px":"260px"},0,e.proxy(function(){e(".C-global-cheggheader-searchbox").css({width:""}),this.$el.removeClass("expanded animate"),this.$el.find("#header-autosuggest-input, .autosuggest-input-field").attr("placeholder","Search"),this.Eggshell.trigger("search field collapsed")},this)))},this.closeSearchResults=function(){this.autosuggestWidget.trigger("hide results")},this.disableAutoCollapse=function(){this.autoCollapse=!1},this.enableAutoCollapse=function(){this.autoCollapse=!0},this.populateInputField=function(){var e=location.pathname.split("/"),t=e[1];if("search"===t&&"undefined"!=typeof e[2]){var i=decodeURIComponent(e[2]);this.$el.find(".header-autosuggest").val(i)}},this.pageRefreshed=function(){this.populateInputField(),this.collapse()},this.setListeners=function(){n.find(this).on("render",this.render,this).on("set search type",this.setSearch,this).on("expand search box",this.expand,this).on("collapse search box",this.collapse,this).on("close search results",this.closeSearchResults,this).on("enable auto collapse of searchbox",this.enableAutoCollapse,this).on("page refreshed",this.pageRefreshed,this)},this.initialize=function(){this.setListeners()},this.initialize()}),n.define("C.global.chggheader.bowdoin",{inputs:["render"],output:["rendered component"]},function(t){this.$el=t.el,this.hiddenSubHeaderUrlList=["bookstore","tutors"],this.darkSubHeaderUrlList=[""],this.subHeaderTemplate=i.template('<div class="bookstore-return-header"><div class="bookstore-return-header-left"><a href="<%=url%>" data-noajax>&laquo; Back to Bowdoin Course Search</a></div><div class="bookstore-return-header-right">Welcome Bowdoin Students</div></div>'),this.notInHiddenSubHeaderUrlList=function(){var t=location.pathname.split("/"),i=t[1],s=!0;return-1!==e.inArray(i,this.hiddenSubHeaderUrlList)&&(s=!1),s},this.shouldShowSubHeader=function(){var e=!1,t="/bookstore/bowdoin",i=C.utility.getCookie("bookstore_school");if("bowdoin"===i){e=!0;var s=C.utility.getCookie("bookstore_search_params");if(s){var n=s.split("|"),a=n[0],r=n[1],o=n[2];t=t+"?dept="+a+"&course="+r+"&section="+o}this.returnUrl=t}return e=e&&this.notInHiddenSubHeaderUrlList()},this.managePageContentPosition=function(){var t=e('<div class="content-pusher" style="width:100%; height:40px"></div>');e(".chg-container").prepend(t),e(".chgg-hdr, .chgg-hdr-overlay").addClass("bowdoin-active"),e(".C-global-chggheader-bowdoin .bookstore-return-header").css("top","0px")},this.render=function(){if(this.shouldShowSubHeader()){if(!this.shown){var t=this.subHeaderTemplate({url:this.returnUrl});C.support.touch&&(t=e(t),t.css("position","absolute")),this.$el.append(t),this.managePageContentPosition(),this.shown=!0}}else this.hideSubHeader()},this.hideSubHeader=function(){this.$el.find(".bookstore-return-header").remove(),e(".content-pusher").remove(),this.shown=!1},this.pageAjaxLoaded=function(){this.render()},this.setListeners=function(){n.find(this).on("render",this.render,this).on("page ajax loaded",this.pageAjaxLoaded,this)},this.initialize=function(){this.setListeners()},this.initialize()})};